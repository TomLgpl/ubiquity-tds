<?php

namespace controllers;
use Ubiquity\attributes\items\router\Route;
use Ubiquity\attributes\items\router\Post;
use Ubiquity\attributes\items\router\Get;

class TodosController extends ControllerBase{

    public function initialize()
    {
        parent::initialize(); // TODO: Change the autogenerated stub
        $this->menu();
    }

    private function menu(){
        $this->loadView('TodosController/menu.html');
    }

    #[Route('_default', name: "home")]
	public function index(){
        $this->showMessage('Bienvenue !', 'TodoLists permet de générer des listes ...', 'info', 'info circle outline');
		$this->display(['Pain', 'Eau']);
	}

	private function display(array $list){
        $this->loadView('TodosController/display.html', ['list' => $list]);
    }

	#[Post(path: "todos/add", name: "todos.name")]
    public function addElement(){

    }

    #[Get(path: "todos/delete/{index}", name: "todos.delete")]
	public function deleteElement($index){
		
	}

	#[Post(path: "todos/edit/{index}", name: "todos.edit")]
    public function editElement($index){

    }

    #[Get(path: "todos/loadList/{uniqid}", name: "todos.loadList")]
    public function loadList($uniqid){

    }

    #[Post(path: "todos/loadList", name: "todos.loadListPost")]
    public function loadListFromFrom(){

    }

    #[Get(path: "todos/new/{force}", name: "todos.new")]
    public function newList($force){

    }

    #[Get(path: "todos/saveList", name: "todos.save")]
    public function saveList(){

    }

    private function showMessage(string $header, string $message, string $type = '', string $icon = 'info circle', array $buttons = []){
        $this->loadView('main/showMessage.html', compact('header', 'type', 'icon', 'message', 'buttons'));
    }

}
